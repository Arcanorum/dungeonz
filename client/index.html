<!DOCTYPE html>
<html lang="en">

<head>
    <title>Dungeonz.io</title>

    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />

    <link rel="shortcut icon" type="image/png" href="assets/img/misc/favicon.png">
    <link rel="icon" sizes="192x192" href="assets/img/misc/favicon.png">
    <link rel="shortcut icon" href="assets/img/misc/home-icon.png">
    <link rel="apple-touch-icon" href="assets/img/misc/home-icon.png">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1, IE=9">
    <meta name="description"
        content="Dungeonz.io, the free to play massively multiplayer online roguelite io game. Play with and against other players to gather resources, craft items, train skills and fight monsters to clear dungeons.">
    <meta name="keywords" content="game,io,multiplayer,roguelite,MMO,dungeon,online,games,gaming">
    <meta name="format-detection" content="telephone=no">
    <meta name="HandheldFriendly" content="true" />
    <meta name="robots" content="noindex,nofollow" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-mobile-web-app-title" content="Dungeonz.io">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui" />

    <meta property="og:title" content="Dungeonz.io">
    <meta property="og:url" content="https://dungeonz.io/">
    <meta property="og:type" content="game">
    <meta property="og:description"
        content="Dungeonz.io, the free to play massively multiplayer online roguelite io game. Play with and against other players to gather resources, craft items, train skills and fight monsters to clear dungeons.">
    <meta property="og:image" content="https://dungeonz.io/assets/img/misc/share-banner.png">
    <meta property="og:image:width" content="1032">
    <meta property="og:image:height" content="679">

    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:site" content="@waywardworlds">
    <meta property="twitter:creator" content="@waywardworlds">
    <meta property="twitter:url" content="https://dungeonz.io/">
    <meta property="twitter:title" content="Dungeonz.io">
    <meta property="twitter:description"
        content="Dungeonz.io, the free to play massively multiplayer online roguelite io game. Play with and against other players to gather resources, craft items, train skills and fight monsters to clear dungeons.">
    <meta property="twitter:image" content="https://dungeonz.io/assets/img/misc/share-banner.png">
    <meta property="twitter:image:alt" content="A scene from the game with players fighting monsters.">

    <script src="src/lib/phaser.min.js"></script>
    <!-- <script src="src/lib/phaser.js"></script> -->

    <link rel="stylesheet" href="main.css" type="text/css" />

    <script src="dist/main.js"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-111760957-3"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag("js", new Date());

        gtag("config", "UA-111760957-3");
    </script>

</head>

<body style="margin: 0; overflow:hidden;">

    <div id="game_cont" class="press_start_font normal_cursor">
        <div id="game_canvas"></div>
        <div id="gui_cont">




            <div id="top_left_corner_cont" class="gui_zoomable">
                
                <div id="defence_cont" class="inline_cont">
                    <img id="defence_icon" class="gui_icon" src="assets/img/gui/hud/defence-icon.png" draggable="false">
                    <div id="defence_counter" class="text_counter">0</div>
                    <div id="defence_tooltip" class="top_left_tooltip generic_tooltip"></div>
                </div>
                <div id="avatar_cont" class="inline_cont">
                    <img id="avatar_icon" class="gui_icon hand_cursor" src="assets/img/gui/hud/stats-icon.png"
                        draggable="false">
                    <div id="avatar_tooltip" class="top_left_tooltip generic_tooltip"></div>
                </div>
                <div id="tasks_cont" class="inline_cont">
                    <img id="tasks_icon" class="gui_icon hand_cursor" src="assets/img/gui/hud/tasks-icon.png"
                        draggable="false">
                    <div id="tasks_tooltip" class="top_left_tooltip generic_tooltip"></div>
                </div>
                <div id="map_cont" class="inline_cont"
                    onclick="window.open('/assets/img/misc/overworld.png', '_blank');">
                    <img id="map_icon" class="gui_icon hand_cursor" src="assets/img/gui/hud/map-icon.png"
                        draggable="false">
                    <div id="map_tooltip" class="top_left_tooltip generic_tooltip"></div>
                </div>
                <div id="clan_cont" class="inline_cont">
                    <img id="clan_icon" class="gui_icon hand_cursor" src="assets/img/gui/hud/clan-icon.png"
                        draggable="false">
                    <div id="clan_tooltip" class="top_left_tooltip generic_tooltip"></div>
                </div>
            </div>
            <div id="top_right_corner_cont" class="gui_zoomable">
                <div id="exit_cont" class="inline_cont">
                    <div id="exit_tooltip" class="top_right_tooltip generic_tooltip"></div>
                    <img id="exit_icon" class="gui_icon hand_cursor" src="assets/img/gui/hud/exit-icon.png"
                        draggable="false">
                </div>
                <div id="discord_cont" class="inline_cont">
                    <div id="discord_tooltip" class="top_right_tooltip generic_tooltip"></div>
                    <img id="discord_icon" class="gui_icon hand_cursor" src="assets/img/gui/hud/discord-icon.png"
                        draggable="false" onclick="window.open('https://discord.gg/7wjyU7B', '_blank');">
                </div>
                <div id="wiki_cont" class="inline_cont">
                    <div id="wiki_tooltip" class="top_right_tooltip generic_tooltip"></div>
                    <img id="wiki_icon" class="gui_icon hand_cursor" src="assets/img/gui/hud/wiki-icon.png"
                        draggable="false"
                        onclick="window.open('https://dungeonz.fandom.com/wiki/Dungeonz.io_Wiki', '_blank');">
                </div>
            </div>
            <div id="bottom_left_corner_cont" class="gui_zoomable">
            </div>
            <div id="bottom_right_corner_cont" class="gui_zoomable">
                <div class="inline_cont">
                    <div id="audio_tooltip" class="generic_tooltip bottom_right_tooltip"></div>
                    <img id="audio_minus_icon" class="gui_icon hand_cursor" src="assets/img/gui/hud/minus-icon.png"
                        draggable="false">
                    <div id="audio_counter" class="text_counter"></div>
                    <img id="audio_plus_icon" class="gui_icon hand_cursor" src="assets/img/gui/hud/plus-icon.png"
                        draggable="false">
                    <img id="audio_icon" class="gui_icon" src="assets/img/gui/hud/audio-icon.png" draggable="false">
                </div>
                <div class="inline_cont">
                    <div id="gui_zoom_tooltip" class="generic_tooltip bottom_right_tooltip"></div>
                    <img id="gui_zoom_minus_icon" class="gui_icon hand_cursor" src="assets/img/gui/hud/minus-icon.png"
                        draggable="false">
                    <div id="gui_zoom_counter" class="text_counter"></div>
                    <img id="gui_zoom_plus_icon" class="gui_icon hand_cursor" src="assets/img/gui/hud/plus-icon.png"
                        draggable="false">
                    <img id="gui_zoom_icon" class="gui_icon" src="assets/img/gui/hud/zoom-icon.png" draggable="false">
                </div>
                <div class="inline_cont">
                    <div id="virtual_dpad_tooltip" class="generic_tooltip bottom_right_tooltip"></div>
                    <img id="virtual_dpad_icon" class="gui_icon hand_cursor"
                        src="assets/img/gui/hud/virtual-dpad-icon.png" draggable="false">
                </div>
                <div class="inline_cont">
                    <div id="fullscreen_tooltip" class="generic_tooltip bottom_right_tooltip"></div>
                    <img id="fullscreen_icon" class="gui_icon hand_cursor" src="assets/img/gui/hud/fullscreen-icon.png"
                        draggable="false">
                </div>
                <div class="inline_cont">
                    <div id="settings_tooltip" class="generic_tooltip bottom_right_tooltip"></div>
                    <img id="settings_icon" class="gui_icon hand_cursor" src="assets/img/gui/hud/settings-icon.png"
                        draggable="false">
                </div>
            </div>

            <div id="inventory_tooltip" class="counter_tooltip generic_tooltip gui_zoomable"></div>
            <img id="inventory_icon" class="gui_icon gui_zoomable" src="assets/img/gui/hud/inventory-icon.png"
                draggable="false">

            <div id="respawn_panel" class="centered panel_template_cont gui_zoomable"></div>

            <div id="game_over_panel" class="centered panel_template_cont gui_zoomable"></div>

            <div id="create_account_panel" class="centered panel_template_cont gui_zoomable"></div>

            <div id="account_panel" class="centered panel_template_cont gui_zoomable"></div>

            <div id="dungeon_panel" class="centered panel_template_cont gui_zoomable"></div>

            <div id="stats_panel" class="centered panel_template_cont gui_zoomable"></div>

            <div id="tasks_panel" class="centered panel_template_cont gui_zoomable"></div>

            <div id="bank_panel" class="centered panel_template_cont gui_zoomable"></div>

            <div id="clan_panel" class="centered panel_template_cont gui_zoomable"></div>

            <div id="generator_panel"></div>

            <div id="crafting_panel" class="centered panel_template_cont gui_zoomable"></div>

            <div id="shop_panel" class="centered panel_template_cont gui_zoomable"></div>

            <div id="hint_panel" class="centered panel_template_cont gui_zoomable"></div>

            <div id="dungeon_timer_cont">
                <div id="dungeon_timer_text">Time remaining:</div>
                <div id="dungeon_timer_value">243</div>
            </div>
            <div id="dungeon_keys_cont">
                <div id="dungeon_keys_list"></div>
            </div>

            <div id="spell_bar" class="gui_zoomable">
                <div id="spell_tooltip">
                    <div id="spell_tooltip_name"></div>
                    <div id="spell_tooltip_description"></div>
                </div>
                <div id="spell_slots_cont"></div>
            </div>

            <div id="virtual_dpad">
                <img id="virtual_dpad_up" draggable="false" class="virtual_dpad_hover"
                    src="assets/img/gui/hud/virtual-dpad-up-icon.png">
                <img id="virtual_dpad_down" draggable="false" class="virtual_dpad_hover"
                    src="assets/img/gui/hud/virtual-dpad-down-icon.png">
                <img id="virtual_dpad_left" draggable="false" class="virtual_dpad_hover"
                    src="assets/img/gui/hud/virtual-dpad-left-icon.png">
                <img id="virtual_dpad_right" draggable="false" class="virtual_dpad_hover"
                    src="assets/img/gui/hud/virtual-dpad-right-icon.png">
            </div>

            <span id="inventory_bar" class="gui_zoomable">
                <div id="inventory_message" class="text_counter_transition"></div>
                <div id="item_tooltip_cont">
                    <div id="item_name"></div>
                    <div id="item_description"></div>
                    <div id="item_durability"></div>
                </div>
            </span>

        </div>
        <input id="chat_input" type="text" minLength="1" maxLength="46" placeholder="Enter a message" />
    </div>

    <div id="home_cont" class="press_start_font">


        <script>
            /**
             * Whether the "New character" tab should be shown. Otherwise shows the "Continue" tab.
             * @type {boolean}
             */
            window.newCharacter = true;

            const newCharacterButton = document.getElementById("new_character");
            const continueButton = document.getElementById("continue");
            const nameInput = document.getElementById("name_input");
            const usernameInput = document.getElementById("username_input");
            const passwordInput = document.getElementById("password_input");
            const showPasswordButton = document.getElementById("show_password");

            async function playPressed() {
                console.log("* Play pressed");
                if (window.newCharacter === true) {
                    // New character option selected. Start as a new character with the given display name.
                    window.connectToGameServer();
                    // Only attempt to connect if the connection is ready to communicate.
                    if (ws.readyState === 1) {
                        ws.sendEvent("new_char", { displayName: document.getElementById("name_input").value });
                    }
                }
                else {
                    // Continue as an existing character with the given credentials.
                    window.connectToGameServer();
                    // Only attempt to connect if the connection is ready to communicate.
                    if (ws.readyState === 1) {
                        // Check username and password are valid.
                        const username = document.getElementById("username_input").value;
                        const password = document.getElementById("password_input").value;
                        if (username === "") return;
                        if (password === "") return;

                        // Encrypt the password before sending.
                        const hash = await digestMessage(password);

                        ws.sendEvent("log_in", {
                            username: username,
                            password: hash
                        });
                    }
                }
            }

            document.getElementById("language_text").onclick = function (event) {
                if (document.getElementById("language_list").style.visibility === "visible") {
                    document.getElementById("language_list").style.visibility = "hidden";
                }
                else {
                    document.getElementById("language_list").style.visibility = "visible";
                }
            };

            function changeLanguage(language) {
                dungeonz.language = language;

                // Update the DOM elements that have text with the values for the selected language.
                // Home page.
                //document.getElementById("warning_message").innerText =      dungeonz.getTextDef("Connect game server warning");
                document.getElementById("language_text").innerText = dungeonz.getTextDef("Language");
                document.getElementById("add_translation").innerText = dungeonz.getTextDef("Add translation");
                document.getElementById("news_header").innerText = dungeonz.getTextDef("News");
                document.getElementById("name_input").placeholder = dungeonz.getTextDef("Name input");
                document.getElementById("username_input").placeholder = "Username";
                document.getElementById("password_input").placeholder = "Password";
                document.getElementById("new_character").innerText = dungeonz.getTextDef("New character");
                document.getElementById("continue").innerText = dungeonz.getTextDef("Continue");
                document.getElementById("center_text").innerText = dungeonz.getTextDef("Play");

                // General GUI tooltips.
                document.getElementById("defence_tooltip").innerText = dungeonz.getTextDef("Defence tooltip");
                document.getElementById("hitpoint_tooltip").innerText = dungeonz.getTextDef("Hitpoint tooltip");
                document.getElementById("energy_tooltip").innerText = dungeonz.getTextDef("Energy tooltip");
                document.getElementById("glory_tooltip").innerText = dungeonz.getTextDef("Glory tooltip");
                document.getElementById("avatar_tooltip").innerText = dungeonz.getTextDef("Avatar tooltip");
                document.getElementById("tasks_tooltip").innerText = dungeonz.getTextDef("Tasks tooltip");
                document.getElementById("map_tooltip").innerText = dungeonz.getTextDef("Map tooltip");
                document.getElementById("clan_tooltip").innerText = dungeonz.getTextDef("Clan tooltip");
                document.getElementById("inventory_tooltip").innerHTML = dungeonz.getTextDef("Inventory tooltip");
                document.getElementById("exit_tooltip").innerHTML = dungeonz.getTextDef("Exit tooltip");
                document.getElementById("discord_tooltip").innerHTML = dungeonz.getTextDef("Discord tooltip");
                document.getElementById("wiki_tooltip").innerHTML = dungeonz.getTextDef("Wikia tooltip");
                document.getElementById("settings_tooltip").innerHTML = dungeonz.getTextDef("Settings tooltip");
                document.getElementById("audio_tooltip").innerHTML = dungeonz.getTextDef("Audio tooltip");
                document.getElementById("gui_zoom_tooltip").innerHTML = dungeonz.getTextDef("GUI zoom tooltip");
                document.getElementById("virtual_dpad_tooltip").innerHTML = dungeonz.getTextDef("Virtual D pad tooltip");
                document.getElementById("fullscreen_tooltip").innerHTML = dungeonz.getTextDef("Fullscreen tooltip");

                // Hide the language list again.
                document.getElementById("language_list").style.visibility = "hidden";
            }

            // Load the default language.
            changeLanguage(dungeonz.language);

            document.getElementById("language_english").onclick = function () { changeLanguage("English") };
            document.getElementById("language_french").onclick = function () { changeLanguage("French") };
            document.getElementById("language_spanish").onclick = function () { changeLanguage("Spanish") };
            document.getElementById("language_portuguese").onclick = function () { changeLanguage("Portuguese (Brazil)") };
            document.getElementById("language_turkish").onclick = function () { changeLanguage("Turkish") };
            document.getElementById("language_german").onclick = function () { changeLanguage("German") };
            document.getElementById("language_russian").onclick = function () { changeLanguage("Russian") };
            document.getElementById("language_polish").onclick = function () { changeLanguage("Polish") };
            document.getElementById("language_chinese").onclick = function () { changeLanguage("Chinese") };

            // Changes the text displayed in the main tooltip.
            function changeHoverTooltip(textDef) {
                let hoverTooltip = document.getElementById("main_tooltip");
                hoverTooltip.innerText = dungeonz.getTextDef(textDef);
                hoverTooltip.style.visibility = "visible";
            }

            // Load the changelog contents into the news section.
            let xmlhttp, text;
            xmlhttp = new XMLHttpRequest();
            xmlhttp.open("GET", "./changelog.txt", false);
            xmlhttp.send();
            text = xmlhttp.responseText;

        </script>
    </div>
</body>

</html>